<!DOCTYPE html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dice Calculator - Christian Kahle</title>
    
    <!-- Compiled and minified CSS -->
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

</head>

<body class="process">
    <nav class="grey darken-4" role="navigation">
        <div class="nav-wrapper container">
            <a id="logo-container" href="#" class="brand-logo grey-text text-lighten-1" style="font-size: 25px">Christian Kahle</a>
            <ul class="right hide-on-med-and-down">
                <li><a class="grey-text text-lighten-1" href="../index.html">Home</a></li>
                <li><a class="grey-text text-lighten-1" href="../aboutme.html">About Me</a></li>
                <li><a class="grey-text text-lighten-1" href="https://github.com/christianKahle">Github</a></li>
                <li><a class="grey-text text-lighten-1" href="../raytracing.html">Raytracing</a></li>
            </ul>
    
            <ul id="nav-mobile" class="sidenav">
                <li><a class="grey-text text-lighten-1" href="../index.html">Home</a></li>
                <li><a class="grey-text text-lighten-1" href="../aboutme.html">About Me</a></li>
                <li><a class="grey-text text-lighten-1" href="https://github.com/christianKahle">Github</a></li>
                <li><a class="grey-text text-lighten-1" href="../raytracing.html">Raytracing</a></li>
            </ul>
            <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
        </div>
    </nav>
    <div class="center">
        <div class="row center">
            <h1 class="col s8 offset-s2"><span class="spanborder blue-grey darken-4">Dice Calculator</span></h1>
        </div>
        <div class="row">
            <span class="orange-text spanhead ">Number of Rounds/Roll Instances
                <input type="number" id="nRounds" class="center-align grey darken-4" style="width:50px;" max="50" min="1" value="1"></input>
                <button onclick="createRounds()" class="btn">Create Rounds</button>
                <button onclick="totalRounds()" class="btn" id="total">Total (Click Here) </button>
            </span>
        </div>
        <div id="rounds" class="round"></div>
    </div>
    <script type="text/javascript">
        var dice = ["d20","d12","d10","d8","d6","d4"];
        function createRounds(){
            var input = document.getElementById("nRounds");
            var rounds = document.getElementById("rounds");
            var nRounds = parseInt(input.value);
            var ec = rounds.childElementCount;
            while (rounds.childElementCount > nRounds) {
                rounds.removeChild(rounds.lastChild);
            }
            for (i = 1+rounds.childElementCount; i <= nRounds; i++) {
                var newDiv = document.createElement("div");
                newDiv.classList.add("row"); newDiv.classList.add("center");
                var newContent = document.createTextNode("Round "+i+": ");
                newDiv.appendChild(newContent);
                var dicenum; var die;
                for (d = 0;d<6;d++) {
                    dicenum = document.createElement("input");
                    dicenum.classList.add("right-align");
                    dicenum.classList.add("grey");
                    dicenum.classList.add("darken-4");
                    dicenum.max=99;
                    dicenum.min=0;
                    dicenum.value=0;
                    dicenum.id=i+""+dice[d];
                    dicenum.type="number";
                    newDiv.appendChild(dicenum);
                    if (d == 6) {
                        die = document.createTextNode(dice[d]);
                    }
                    else {
                        die = document.createTextNode(dice[d]+" + ");
                    }
                    
                    newDiv.appendChild(die);
                }
                dicenum = document.createElement("input");
                dicenum.classList.add("right-align");
                dicenum.classList.add("grey");
                dicenum.classList.add("darken-4");
                dicenum.max=99;
                dicenum.min=-99;
                dicenum.value=0;
                dicenum.id="n"+i;
                dicenum.type="number";
                newDiv.appendChild(dicenum);
                rounds.insertBefore(newDiv,null);
            }
        }
        function totalRounds(){
            var rounds = document.getElementById("rounds");
            var nRounds = rounds.childElementCount;
            var d20; var d12; var d10; var d8; var d6; var d4;
            var total = 0;
            for (i = 1;i<=nRounds; i++) {
                d20 = parseInt(document.getElementById(i+"d20").value);
                d12 = parseInt(document.getElementById(i+"d12").value);
                d10 = parseInt(document.getElementById(i+"d10").value);
                d8 = parseInt(document.getElementById(i+"d8").value);
                d6 = parseInt(document.getElementById(i+"d6").value);
                d4 = parseInt(document.getElementById(i+"d4").value);
                n = parseInt(document.getElementById("n"+i).value);
                total = total+d20*10.5+d12*6.5+d10*5.5+d8*4.5+d6*3.5+d4*2.5+n;
            }
            var tbtn = document.getElementById("total");
            tbtn.textContent =  "Total: "+total+" Avg: "+total/nRounds;
        }
        createRounds();
    </script>
    <!--  Scripts-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>M.AutoInit();</script>
</body>